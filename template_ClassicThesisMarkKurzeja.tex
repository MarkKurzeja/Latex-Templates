% =====================================
% Purpose: Create a Robert Bringhurst style thesis paper using the %
% classicthesis package and some custom enhancements - this is % the default
% template for most of my documents
% =====================================

% =====================================
% Document Class and main packages
% =====================================

\documentclass[10pt,a4paper, hidelinks]{article} % KOMA-Script article scrartcl
\usepackage[nochapters, pdfspacing, drafting]{classicthesis} % nochapters %drafting (puts date/time at bottom) beramono (changed mono spaced font)
\usepackage[T1]{fontenc}
% =====================================
% Packages in Use
% =====================================

%Math Packages
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{nicefrac}  % For typsetting inline fractions
\usepackage{mathtools} % For substack and mathclap (underbrace helper commands)

%% Typography enhancements
\usepackage{microtype} % For awesome typographical improvements
\usepackage{booktabs}  % Pretty \begin{tabular}
\usepackage{multicol}  % For pretty multi-columns environments
\usepackage{xspace}    % For use in a command to ensure proper spacing
%\usepackage{geometry} % Uncomment this is you want full page documentation
\usepackage{graphicx}  % For allowing pictures
\usepackage{float}     % For the purpose of adding \begin{figure} [H]
\usepackage{lipsum}    % For adding filler text

% Font Choices - Some of the fonts in this package are great and are my favorite 
% 1) ebgaramond - Garamond, this is the top choice for fonts for the resume. It
% is classy, full-proof for professional work, and looks great up close and %
% afar 
\usepackage[osf, scale=1.02]{ebgaramond}
%\usepackage[osf, scale = 1.0]{CormorantGaramond}

% 2) cochineal - based off of the Crimson fonts, this is almost like Minion,
% but is a solid workhorse font and has clean lines - use for the most clean
% appearance 
% \usepackage[osf]{cochineal}
% \usepackage{coelacanth}
% 3) Minion Pro - You have to use XeTex to get this font working (and often
% have to install it) but this is a workhorse font, and one of the cleanest
% fonts around. Use it when you d:vsp on't want the font to be noticed 
% \usepackage{fontspec}
% \setmainfont[Numbers=OldStyle]{Minion Pro}
% 4) kpfonts - the Kepler font project, these are based off of Palatino fonts
% and are wide but very easy to read and fill the page well. Use this if you
% think that the resume looks too white 
% http://ctan.math.utah.edu/ctan/tex-archive/fonts/kpfonts/doc/kpfonts.pdf 
% \usepackage[oldstylenums]{kpfonts}

% Honorable Mentions: 
% 5) fbb - based off of Bembo, this is a delicate font and a great substitute
% for when you are sick of garamond but need something professional
% \usepackage[osf,scale=0.95]{fbb}
% 6) erewhon - based off of Utopia, this is a no-nonsense font and holds a
% great modern look while being very stark 
% \usepackage[osf]{erewhon} % Erewhon font based on utopia
% 7) sourcesanspro - this is the only font that is approved for sans-serif work
% and it is a great workhorse of a font when legibility is the chief concern
% \usepackage[default]{sourcesanspro} % Only Approved Sans Serif

% Use of libertine or alegreya for open source fonts
% \usepackage[osf]{libertine} % replacement for times and gorgeous font
% \usepackage[libertine]{newtxmath}
% Playful and professional - a great super family and the sans-serif is superb
% \usepackage[osf]{alegreya} 

% Use the following for the baskerville fonts ----
% This, combined with Mrs Eaves, are some of the most gorgeous old school fonts
% especially the italic. These two were on all of the menus at Mackinac Island
% \usepackage{lmodern} % monospace font
% \usepackage[scale=0.89]{tgheros} % Helvetica is too big
% \usepackage[osf]{Baskervaldx} % tosf in text, tlf in math
% \usepackage[baskervaldx,cmintegrals,bigdelims,vvarbb]{newtxmath} % math italic letters from Baskervaldx

%\usepackage{XCharter}
%\usepackage[osf]{libertine}
%\usepackage[osf]{Alegreya}
%\usepackage{stix2}
%\usepackage[osf]{notomath}
%\usepackage[osf]{noto-serif}
%\usepackage{imfellEnglish}
%\usepackage[nf]{coelacanth}
%\usepackage{CormorantGaramond}
%\usepackage{CrimsonPro}
%\usepackage{cochineal}

%  Run the following line to make the default font face sans-serif
% \renewcommand{\familydefault}{\sfdefault}

% ------------------------------------------------

% Run this if you are using a sans-serif font
%\renewcommand{\familydefault}{\sfdefault}

% For commenting on incomplete or new items
\usepackage{todonotes} % \missingfigure{} is the best command

% =====================================
% Graphics 
% =====================================

% For quick graphics insert -- Full Line --
\newcommand{\qpic}[2]{
	\begin{figure}[H]
		\centering
		\includegraphics[width=1\linewidth]{./#1}
		\caption{#2}
		\label{fig:#1}
	\end{figure}
}

% For quick graphics insert -- Normal Size --
\newcommand{\qpics}[2]{
	\begin{figure}[H]
		\centering
		\includegraphics[width=0.7\linewidth]{./#1}
		\caption{#2}
		\label{fig:#1}
	\end{figure}
}

% =====================================
% Custom Macros that make life easier
% =====================================

% Description Enviroment Item Helper Commands
\newcommand{\im}[1]{\item[#1] \xspace}
\newcommand{\imp}[1]{\item[(#1)] \xspace}

% Auto-commas for long nominal and dollar amounts
\RequirePackage{siunitx}
\newcommand{\commasep}[1]{\num[group-separator={,}]{#1}}
\newcommand{\money}[1]{\$\commasep{#1}}

% Borrowing from tufte, this is the \newthought command that is 
% often used to bring about the change from one subsubsection
% to another and is a good way to bring things up logically into smaller
% bites
\newcommand{\newthought}[1]{
\vspace{11pt} \noindent
\spacedlowsmallcaps{#1}
}

% Code to produce spaced small caps in real text
\newcommand{\mysmallcaps}[1]{\spacedlowsmallcaps{#1}\xspace}

% =====================================
% For handling code blocks and other text
% =====================================

% Code to handle inputting code segments in R
\usepackage{listings} % To import code use: \lstinputlisting[language=R]{h1code.r}
\lstset{language=R} % \lstinputlisting[language={}]{file.txt} for  unformatted code
\usepackage{color}
\definecolor{mygreen}{rgb}{0, 0.6, 0}
\definecolor{mygray}{rgb}{0.5, 0.5, 0.5}
\definecolor{mymauve}{rgb}{0.58, 0, 0.82}

\lstset{ %
  backgroundcolor=\color{white},   % choose the background color; you must add \usepackage{color} or \usepackage{xcolor}
  basicstyle=\footnotesize,        % the size of the fonts that are used for the code
  breakatwhitespace=false,         % sets if automatic breaks should only happen at whitespace
  breaklines=true,                 % sets automatic line breaking
  captionpos=b,                    % sets the caption-position to bottom
  commentstyle=\color{mygreen},    % comment style
  deletekeywords={...},            % if you want to delete keywords from the given language
  escapeinside={\%*}{*)},          % if you want to add LaTeX within your code
  extendedchars=true,              % lets you use non-ASCII characters; for 8-bits encodings only, does not work with UTF-8
  frame=single,	                   % adds a frame around the code
  keepspaces=true,                 % keeps spaces in text, useful for keeping indentation of code (possibly needs columns=flexible)
  keywordstyle=\color{blue},       % keyword style
  language=R,                      % the language of the code
  otherkeywords={*,...},           % if you want to add more keywords to the set
  numbers=left,                    % where to put the line-numbers; possible values are (none, left, right)
  numbersep=5pt,                   % how far the line-numbers are from the code
  numberstyle=\tiny\color{mygray}, % the style that is used for the line-numbers
  rulecolor=\color{black},         % if not set, the frame-color may be changed on line-breaks within not-black text (e.g. comments (green here))
  showspaces=false,                % show spaces everywhere adding particular underscores; it overrides 'showstringspaces'
  showstringspaces=false,          % underline spaces within strings only
  showtabs=false,                  % show tabs within strings adding particular underscores
  stepnumber=2,                    % the step between two line-numbers. If it's 1, each line will be numbered
  stringstyle=\color{mymauve},     % string literal style
  tabsize=2,	                     % sets default tabsize to 2 spaces
  title=\lstname                   % show the filename of files included with \lstinputlisting; also try caption instead of title
}

% =====================================
% Beginning the main document
% =====================================

\usepackage{enumitem}

% Setup a Lamport-style numbering scheme for proofs
% lproof is the long-form of the proof numbering system (1.1.2)
% cproof is the short-form of the proof numbering system (<2>1)
\newlist{cproof}{enumerate}{4}
\setlist[cproof,1]{label={$\langle$1$\rangle$\arabic*.}, ref={$\langle$1$\rangle$\arabic*}}
\setlist[cproof,2]{label={$\langle$2$\rangle$\arabic*.}, ref={$\langle$2$\rangle$\arabic*}}
\setlist[cproof,3]{label={$\langle$3$\rangle$\arabic*.}, ref={$\langle$3$\rangle$\arabic*}}
\setlist[cproof,4]{label={$\langle$4$\rangle$\arabic*.}, ref={$\langle$4$\rangle$\arabic*}}
\setlist[cproof]{listparindent=\parindent, itemsep=1pt, parsep=0pt, left=0pt, topsep=1pt, align=left}
\newlist{lproof}{enumerate}{4}
\setlist[lproof]{label*={\arabic*.}, listparindent=\parindent, itemsep=1pt, parsep=0pt, left=0pt, topsep=1pt}

% proofstep is meant to be used in conjunction with lproof or cproof
\newenvironment{proofstep}{
\hfill \newline \hspace{-0.2em}\textsc{Proof}:
}{}


\begin{document}
\pagestyle{plain} 
\title{\rmfamily\normalfont\spacedallcaps{the title}}
\author{\spacedlowsmallcaps{Mark Kurzeja}}
\date{} % no date or \today if you want to insert a date

\maketitle

\begin{abstract}
\end{abstract}

\begin{cproof}
    \item Level 1, Index 1
    \begin{cproof}
      \item World \label{worldref}
      \begin{proofstep}
      ABC The proof follows from \ref{worldref} and $1 + 2 = 4$
      \end{proofstep}
      \begin{cproof}
        \item Taco 
        \item Nacho 
      \end{cproof}
    \end{cproof}
    \item nacho
    \begin{cproof}
      \item Taco
      \item Nacho
    \end{cproof}
    \item burrito
\end{cproof}



\tableofcontents

\section{A Section}
\subsection{A Subsection}
\lipsum[1-1]
\newthought{My name is} \lipsum[1-1]
\lipsum[1-1]


\end{document}
